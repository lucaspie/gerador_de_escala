{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block content %}

<div class="container-fluid px-2 px-md-3">

  <!-- Mensagem -->
  <div class="row mb-3">
    <div class="col-12">
      <div class="alert alert-primary text-center text-md-start">
        {{ mensagem }}
      </div>
    </div>
  </div>

  <!-- AÃ§Ãµes rÃ¡pidas -->
  {% if user.pode_escalar %}
  <div class="row mb-3 g-2">
    <div class="col-12 col-md-auto">
      <a href="{% url 'escalas:criar_escala' %}" class="btn btn-primary w-100">
        Criar Nova Escala
      </a>
    </div>
    <div class="col-12 col-md-auto">
      <a href="{% url 'escalas:lista_escalas' %}" class="btn btn-outline-primary w-100">
        Escalas da seÃ§Ã£o
      </a>
    </div>
    <div class="col-12 col-md-auto">
      <a href="{% url 'escalas:semanas_escalante' %}" class="btn btn-outline-primary w-100">
        HistÃ³rico
      </a>
    </div>
  </div>
  {% endif %}

  <!-- GRID DE CARDS -->
  <div class="row g-3">

    {% if user.papel == "OPE" %}

    <!-- OPERADOR -->
    <div class="col-12 col-sm-6 col-lg-4">
      <div class="card shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">ğŸ“… Minhas Escalas</h5>
          <p class="card-text small flex-grow-1">
            Consulte suas escalas passadas e futuras.
          </p>
          <a href="{% url 'escalas:minhas_escalas' %}" class="btn btn-success w-100">
            Acessar
          </a>
        </div>
      </div>
    </div>

    <div class="col-12 col-sm-6 col-lg-4">
      <div class="card shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">ğŸ”„ Permutas</h5>
          <p class="card-text small flex-grow-1">
            Solicite ou aceite trocas de turno.
          </p>
          <a href="{% url 'permutas:minhas_permutas' %}" class="btn btn-outline-primary w-100">
            Ver Permutas
          </a>
        </div>
      </div>
    </div>

    <div class="col-12 col-sm-6 col-lg-4">
      <div class="card shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">ğŸ“Š RelatÃ³rios</h5>
          <p class="card-text small flex-grow-1">
            Visualize escalas, pontuaÃ§Ã£o e histÃ³rico.
          </p>
          <a href="{% url 'pontuacao:minha_pontuacao' %}" class="btn btn-outline-secondary w-100">
            Abrir relatÃ³rio
          </a>
        </div>
      </div>
    </div>

    <div class="col-12 col-sm-6 col-lg-4">
      <div class="card shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">âš ï¸ Indisponibilidades</h5>
          <p class="card-text small flex-grow-1">
            Visualize ou registre indisponibilidades.
          </p>
          <a href="{% url 'indisponibilidades:minhas' %}" class="btn btn-outline-primary w-100 mb-2">
            ğŸ“‹ Minhas
          </a>
          <a href="{% url 'indisponibilidades:nova' %}" class="btn btn-outline-success w-100">
            â• Nova
          </a>
        </div>
      </div>
    </div>

    {% else %}

    <!-- ESCALANTE -->
    {% for card in "dummy"|make_list %}
    {% endfor %}

    <div class="col-12 col-sm-6 col-lg-4">
      <div class="card shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5>ğŸ—“ Criar Escala</h5>
          <p class="small flex-grow-1">Gere a escala semanal.</p>
          <a href="{% url 'escalas:criar_escala' %}" class="btn btn-primary w-100">Criar</a>
        </div>
      </div>
    </div>

    <div class="col-12 col-sm-6 col-lg-4">
      <div class="card shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5>ğŸ—“ LanÃ§ar PontuaÃ§Ã£o</h5>
          <p class="small flex-grow-1">LanÃ§amento manual.</p>
          <a href="{% url 'pontuacao:painel' %}" class="btn btn-warning w-100">Abrir</a>
        </div>
      </div>
    </div>

    <div class="col-12 col-sm-6 col-lg-4">
      <div class="card shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5>ğŸš¨ Sobreaviso</h5>
          <p class="small flex-grow-1">Gerar sobreaviso.</p>
          <a href="{% url 'escalas:criar_sobreaviso' %}" class="btn btn-info w-100">Criar</a>
        </div>
      </div>
    </div>

    <div class="col-12 col-sm-6 col-lg-4">
      <div class="card shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5>ğŸ“‹ Permutas</h5>
          <p class="small flex-grow-1">Pedidos da seÃ§Ã£o.</p>
          <a href="{% url 'permutas:pedidos' %}" class="btn btn-danger w-100">Ver pedidos</a>
        </div>
      </div>
    </div>

    <div class="col-12 col-sm-6 col-lg-4">
      <div class="card shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5>ğŸ‘¥ UsuÃ¡rios</h5>
          <p class="small flex-grow-1">Lista de usuÃ¡rios.</p>
          <a href="{% url 'accounts:lista_usuarios' %}" class="btn btn-success w-100">Abrir</a>
        </div>
      </div>
    </div>

    <div class="col-12 col-sm-6 col-lg-4">
      <div class="card shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <h5>ğŸ“Š RelatÃ³rios</h5>
          <p class="small flex-grow-1">RelatÃ³rios da seÃ§Ã£o.</p>
          <a href="{% url 'relatorios:pontuacao_secao' %}" class="btn btn-outline-secondary w-100">
            Abrir
          </a>
        </div>
      </div>
    </div>
    <div class="col-12 col-sm-6 col-lg-4"> 
      <div class="card shadow-sm h-100"> 
        <div class="card-body"> 
          <h5 class="card-title">ğŸš« Inidsponibiliades</h5> 
          <p class="card-text"> Visualize suas indisponibiliades. </p> 
          <a href="{% url 'indisponibilidades:secao' %}" class="btn btn-outline-danger w-100"> ğŸ‘¥ Ver Indisponibilidades da SeÃ§Ã£o </a> 
        </div>
      </div>
    </div>

    {% endif %}

  </div>
</div>

{% endblock %}